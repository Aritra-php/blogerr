<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-----------Google fonts link-------->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Meow+Script&display=swap" rel="stylesheet">
    <!----------Google fons link---------->

    <title>Post in details</title>

    <link rel="stylesheet" href="/style.css">
    <link rel="stylesheet" href="/postindetail.css">

    <!----Font awesome link----->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <!----Font awesome link----->
</head>
<body>

    <!---Header----->
    <%- include('../includes/header.ejs') %>
    <!---Header----->

<div class="page-wrapper">
    <div class="post-content">
        <img src="<%= eachpost.image %>">
        <h3 class="user">
            <a href="/user/<%=eachpost.owner._id%>" class="profile-link"><%= eachpost.owner.username %></a>
        </h3> 
        <h4 class="content"><%= eachpost.content %></h4>

        <!---Likes----->
        <div class="likes-section">
            <i class="fas fa-heart heart-icon"></i>
            <span class="likes-count"><%=likes.length%></span>
            <ul class="likes-list">
                <%likes.forEach(like =>{%>
                    <li>@<%=like.user.username%></li>
                <%}) %>
            </ul>
        </div>
        <!---Likes----->

        <!---Comments---->
        <div class="comments-section">
            <i class="fas fa-comment comment-icon"></i>
            <span class="comments-count"><%=comment.length%></span>
            <ul class="comments-list">
                <% comment.forEach(comment=>{%>
                    <li>
                        <strong>@<%=comment.user.username%>:</strong> <%=comment.content%>
                    </li>
                <%}) %>
            </ul>
        </div>
        <!---comments---->
    </div>
</div>

<!--------Footer------------>
<%- include('../includes/footer.ejs') %>
<!-----------Footer--------->


 <!--Hamburger Icon-->
    <script>
    const hamburger = document.getElementById("hamburger");
    const menu = document.getElementById("showmenu");
    const overlay = document.getElementById("overlay");

    function toggleMenu() {
        menu.classList.toggle("show");
        overlay.classList.toggle("active"); 
    }

    hamburger.addEventListener("click", toggleMenu);
    overlay.addEventListener("click", toggleMenu);
    </script>
<!--Hamburger Icon-->


</body>
</html>